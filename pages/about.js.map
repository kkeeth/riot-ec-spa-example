{"version":3,"file":"pages/about.js","mappings":"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","sources":["webpack://riot-ec-spa-example/./src/pages/about.riot","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/hooks.js","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/context.js","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/memo.js","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/effect.js","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/reducer.js","webpack://riot-ec-spa-example/./node_modules/uhooks/esm/ref.js"],"sourcesContent":["<about>\n  <h1>Something about me</h1>\n  <p>Here I describe who I am and what I do</p>\n\n  <h2>Counter</h2>\n  <p>{ count }</p>\n   <div class=\"buttons\">\n     <button onclick=\"{ increment }\">+</button>\n     <button onclick=\"{ decrement }\">-</button>\n   </div>\n\n   <script lang=\"ts\">\n     import * as uhooks from 'uhooks';\n     const IS_MOUNTED = Symbol();\n     const { useState } = uhooks;\n\n     export default {\n       onBeforeMount(props) {\n         const hooks = uhooks.hooked((props, component) => {\n         Object.assign(component, this.setup(props));\n           if (component[IS_MOUNTED]) component.update();\n         });\n         hooks(props, this);\n         this[IS_MOUNTED] = true;\n       },\n       setup(props) {\n          const { initialProps } = props\n          const [count, setCount] = useState(initialProps.count)\n\n          const increment = () => setCount(count + 1)\n          const decrement = () => setCount(count - 1)\n\n          return {\n            count,\n            increment,\n            decrement\n          }\n        },\n      }\n   </script>\n\n   <style>\n    :host {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      background: white;\n      padding: 2rem;\n      min-width: 25vw;\n      border-radius: 1rem;\n      text-align: center;\n      box-shadow: 0 0 2rem rgba(0, 0, 0, 0.2);\n    }\n\n    h1 {\n      margin-bottom: 1rem;\n      color: #008080;\n    }\n\n    p {\n      font-size: 1.6rem;\n      margin-top: 0;\n    }\n\n    .buttons {\n      display: flex;\n      grid-gap: 0.5rem;\n    }\n\n    button {\n      cursor: pointer;\n      color: white;\n      background: #0f1731;\n      border: none;\n      font-size: 1.8rem;\n      height: 4.2rem;\n      border-radius: 0.4rem;\n    }\n\n    button:hover, button:focus-visible {\n      background: #1FADC5;\n    }\n  </style>\n</about>","let info = null, schedule = new Set;\n\nconst invoke = effect => {\n  const {$, r, h} = effect;\n  if (isFunction(r)) {\n    fx.get(h).delete(effect);\n    r();\n  }\n  if (isFunction(effect.r = $()))\n    fx.get(h).add(effect);\n};\n\nconst runSchedule = () => {\n  const previous = schedule;\n  schedule = new Set;\n  previous.forEach(({h, c, a, e}) => {\n    // avoid running schedules when the hook is\n    // re-executed before such schedule happens\n    if (e)\n      h.apply(c, a);\n  });\n};\n\nexport const fx = new WeakMap;\nexport const effects = [];\nexport const layoutEffects = [];\n\nexport function different(value, i) {\n  return value !== this[i];\n};\n\nexport const dropEffect = hook => {\n  const effects = fx.get(hook);\n  if (effects)\n    wait.then(() => {\n      effects.forEach(effect => {\n        effect.r();\n        effect.r = null;\n        effect.d = true;\n      });\n      effects.clear();\n    });\n};\n\nexport const getInfo = () => info;\n\nexport const hasEffect = hook => fx.has(hook);\n\nexport const isFunction = f => typeof f === 'function';\n\nexport const hooked = callback => {\n  const current = {h: hook, c: null, a: null, e: 0, i: 0, s: []};\n  return hook;\n  function hook() {\n    const prev = info;\n    info = current;\n    current.e = current.i = 0;\n    try {\n      return callback.apply(current.c = this, current.a = arguments);\n    }\n    finally {\n      info = prev;\n      if (effects.length)\n        wait.then(effects.forEach.bind(effects.splice(0), invoke));\n      if (layoutEffects.length)\n        layoutEffects.splice(0).forEach(invoke);\n    }\n  }\n};\n\nexport const reschedule = info => {\n  if (!schedule.has(info)) {\n    info.e = 1;\n    schedule.add(info);\n    wait.then(runSchedule);\n  }\n};\n\nexport const wait = Promise.resolve();\n","import {getInfo} from './hooks.js';\n\nexport const createContext = value => ({\n  _: new Set,\n  provide,\n  value\n});\n\nexport const useContext = ({_, value}) => {\n  _.add(getInfo());\n  return value;\n};\n\nfunction provide(newValue) {\n  const {_, value} = this;\n  if (value !== newValue) {\n    this._ = new Set;\n    this.value = newValue;\n    _.forEach(({h, c, a}) => {\n      h.apply(c, a);\n    });\n  }\n}\n","import {different, getInfo} from './hooks.js';\n\nexport const useCallback = (fn, guards) => useMemo(() => fn, guards);\n\nexport const useMemo = (memo, guards) => {\n  const info = getInfo();\n  const {i, s} = info;\n  if (i === s.length || !guards || guards.some(different, s[i]._))\n    s[i] = {$: memo(), _: guards};\n  return s[info.i++].$;\n};\n","import {fx, effects, layoutEffects, different, getInfo} from './hooks.js';\n\nconst createEffect = stack => (callback, guards) => {\n  const info = getInfo();\n  const {i, s, h} = info;\n  const call = i === s.length;\n  info.i++;\n  if (call) {\n    if (!fx.has(h))\n      fx.set(h, new Set);\n    s[i] = {$: callback, _: guards, r: null, d: false, h};\n  }\n  if (call || !guards || s[i].d || guards.some(different, s[i]._))\n    stack.push(s[i]);\n  s[i].$ = callback;\n  s[i]._ = guards;\n  s[i].d = false;\n};\n\nexport const useEffect = createEffect(effects);\n\nexport const useLayoutEffect = createEffect(layoutEffects);\n","import {getInfo, isFunction, reschedule} from './hooks.js';\n\nconst getValue = (value, f) => isFunction(f) ? f(value) : f;\n\nexport const useReducer = (reducer, value, init) => {\n  const info = getInfo();\n  const {i, s} = info;\n  if (i === s.length)\n    s.push({\n      $: isFunction(init) ?\n          init(value) : getValue(void 0, value),\n      set: value => {\n        s[i].$ = reducer(s[i].$, value);\n        reschedule(info);\n      }\n    });\n  const {$, set} = s[info.i++];\n  return [$, set];\n};\n\nexport const useState = value => useReducer(getValue, value);\n","import {getInfo} from './hooks.js';\n\nexport const useRef = current => {\n  const info = getInfo();\n  const {i, s} = info;\n  if (i === s.length)\n    s.push({current});\n  return s[info.i++];\n};\n"],"names":["IS_MOUNTED","Symbol","useState","onBeforeMount","props","hooks","component","Object","assign","this","setup","update","initialProps","count","setCount","increment","decrement","info","schedule","Set","invoke","effect","$","r","h","isFunction","fx","get","delete","add","runSchedule","previous","forEach","c","a","e","apply","WeakMap","effects","layoutEffects","different","value","i","dropEffect","hook","wait","then","d","clear","getInfo","hasEffect","has","f","hooked","callback","current","s","prev","arguments","length","bind","splice","Promise","resolve","createContext","_","provide","useContext","newValue","useCallback","fn","guards","useMemo","memo","some","createEffect","stack","call","set","push","useEffect","useLayoutEffect","getValue","useReducer","reducer","init","reschedule","useRef"],"sourceRoot":""}